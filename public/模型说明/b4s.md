# 🌟 B4S 混凝土收缩模型 - Bažant-Baweja 简化版

<div align="center">

![B4S Model](https://img.shields.io/badge/Model-B4S%20Simplified-purple?style=for-the-badge&logo=data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJMMTMuMDkgOC4yNkwyMCA5TDEzLjA5IDE1Ljc0TDEyIDIyTDEwLjkxIDE1Ljc0TDQgOUwxMC45MSA4LjI2TDEyIDJaIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K)
![Version](https://img.shields.io/badge/Version-Simplified-green?style=for-the-badge)
![Focus](https://img.shields.io/badge/Focus-Shrinkage-orange?style=for-the-badge)

</div>

## 📖 模型概述

**B4S模型** (B4 Simplified) 是B4模型的简化版本，专门针对**混凝土收缩**现象进行优化。该模型保留了B4模型的核心理论基础，同时简化了计算流程，特别适用于**工程实践**中的收缩预测和控制。

### 🎯 设计理念
- 🎯 **专注收缩**: 专门针对收缩现象优化
- ⚡ **计算简化**: 减少复杂参数，提高实用性
- 🏗️ **工程导向**: 适合工程设计和施工控制
- 📊 **精度平衡**: 在精度和实用性间找到最佳平衡
- 🔄 **参数友好**: 所需参数容易获取

### 🌟 核心特色
- 🌊 **干燥收缩**: 重点关注干燥引起的收缩
- 📐 **自生收缩**: 考虑水化过程的内在收缩
- 🏗️ **柔度函数**: 统一的变形描述框架
- 🌡️ **环境影响**: 温湿度等环境因素
- ⚙️ **材料敏感**: 考虑配合比和材料特性

---

## 🧮 核心计算公式

### 🔢 **总柔度函数** J(t,t')
```math
J(t,t') = q_1 + R_T \cdot C_0 + C_d
```

> **组成**: 瞬时柔度 + 温度修正基本徐变 + 干燥徐变

### ⚡ **瞬时柔度** q₁
```math
q_1 = \frac{0.6}{E_{28}}
```
- 🏗️ **E₂₈**: 28天弹性模量 (GPa)
- 📊 **系数**: 0.6 为标准修正系数

### 🌡️ **温度修正系数** R_T
```math
R_T = e^{4000 \cdot (\frac{1}{293} - \frac{1}{T+273})}
```
- 🔥 **高温**: R_T > 1，加速徐变发展
- ❄️ **低温**: R_T < 1，延缓徐变发展
- 🌡️ **标准**: T = 20℃时，R_T = 1

---

## 🌊 收缩应变计算

### 💧 **干燥收缩** ε_sh(t,t_c)
```math
ε_{sh}(t,t_c) = -ε_{sh∞} \cdot k_h \cdot H(t,t_c)
```

**收缩幅值**：
```math
ε_{sh∞} = ε_0 \cdot k_{s-εa} \cdot \left(\frac{f_c}{40}\right)^{s_{εf}}
```

**湿度修正**：
```math
k_h = 1 - h^3 \quad (h: 相对湿度)
```

**时间发展**：
```math
H(t,t_c) = 1 - (1-h) \cdot \tanh\sqrt{\frac{t-t_c}{\tau_{sh}}}
```

### 📐 **自生收缩** ε_au(t)
```math
ε_{au}(t) = -ε_{au∞} \cdot [1 - e^{-(t/\tau_{au})^{0.5}}]
```

**收缩幅值**：
```math
ε_{au∞} = ε_{au-cem} \cdot \left(\frac{f_c}{40}\right)^{s_{au-f}}
```

**时间常数**：
```math
\tau_{au} = \tau_{au-cem} \cdot \left(\frac{f_c}{40}\right)^{s_{au-τ}}
```

---

## ⚙️ 关键参数计算

### 🏗️ **基础参数**
```math
E_{28} = \frac{4734 \cdot \sqrt{f_c}}{1000} \quad (GPa)
```
```math
D = 2 \cdot v_s \quad (有效厚度, mm)
```

### 🌡️ **温度修正时间**
```math
t_0^{\sim} = t_0 \cdot β_{th}
```
```math
t^{\hat{}} = t_0^{\sim} + (t-t_0) \cdot β_{ts}
```

其中：
```math
β_{th} = β_{ts} = e^{4000 \cdot (\frac{1}{293} - \frac{1}{T+273})}
```

### ⏰ **干燥时间常数**
```math
\tau_{sh} = \tau_0 \cdot k_{s-τa} \cdot (k_s \cdot D)^2
```

基础时间常数：
```math
\tau_0 = \tau_{s-cem} \cdot \left(\frac{f_c}{40}\right)^{s_{τf}}
```

---

## 📊 材料参数表

### 🏭 **水泥类型参数**
| 水泥类型 | τ_s-cem | ε_0 | ε_au-cem | τ_au-cem | s_τf | s_εf | s_au-f | s_au-τ |
|----------|---------|-----|----------|----------|------|------|--------|--------|
| **R (普通)** | 0.016 | 360×10⁻⁶ | 210×10⁻⁶ | 1.0 | -0.7 | -0.8 | -0.5 | -0.3 |
| **RS (早强)** | 0.080 | 860×10⁻⁶ | -84×10⁻⁶ | 41.0 | -0.7 | -0.8 | -0.5 | -0.3 |
| **SL (矿渣)** | 0.010 | 410×10⁻⁶ | 0×10⁻⁶ | 1.0 | -0.7 | -0.8 | -0.5 | -0.3 |

### 🏔️ **骨料类型系数**
| 骨料类型 | k_s-τa | k_s-εa | 特性 |
|----------|--------|--------|------|
| **辉绿岩** | 0.06 | 0.76 | 🔹 低收缩，高强度 |
| **石英岩** | 0.59 | 0.71 | 🔸 中等收缩 |
| **石灰岩** | 1.80 | 0.95 | 🔶 标准收缩 |
| **砂岩** | 2.30 | 1.60 | 🔴 较高收缩 |
| **花岗岩** | 4.00 | 1.05 | 🟠 高收缩 |
| **石英闪长岩** | 15.0 | 2.20 | 🔺 极高收缩 |

### 📐 **试件形状系数**
| 试件形状 | k_s | 应用场景 |
|----------|-----|----------|
| **无限平板** | 1.00 | 🏢 楼板、墙板 |
| **无限圆柱** | 1.15 | 🏗️ 柱子、桩基 |
| **无限方柱** | 1.25 | 🏗️ 方形柱 |
| **球体** | 1.30 | 🔬 试验试件 |
| **立方体** | 1.55 | 🧪 标准试块 |

---

## 📊 参数范围与建议值

| 参数 | 符号 | 单位 | 适用范围 | 典型值 | 工程建议 |
|------|------|------|----------|--------|----------|
| **抗压强度** | f_c | MPa | 15~80 | 30~50 | 🏗️ 28天标准强度 |
| **相对湿度** | h | - | 0.4~1.0 | 0.6~0.8 | 🌡️ 年平均湿度 |
| **体表比** | v_s | mm | 50~500 | 100~200 | 📐 V/S比值 |
| **加载龄期** | t_0 | 天 | 1~365 | 28 | ⏰ 受力开始时间 |
| **干燥开始** | t_c | 天 | 1~365 | 7 | 🌊 暴露开始时间 |
| **环境温度** | T | ℃ | -20~60 | 20 | 🌡️ 平均环境温度 |

---

## 🎨 计算示例

### 📝 预制混凝土构件收缩计算
假设某预制梁参数：
- 🏗️ 抗压强度：f_c = 40 MPa
- 🌡️ 相对湿度：h = 0.65
- 📐 体表比：v_s = 120 mm
- ⏰ 加载龄期：t_0 = 28天
- 🌊 干燥开始：t_c = 7天
- 🌡️ 环境温度：T = 20℃
- 🏭 水泥类型：R (普通硅酸盐)
- 🏔️ 骨料类型：石灰岩

**计算过程**：

1️⃣ **基础参数**：
```
E₂₈ = 4734×√40/1000 = 29.9 GPa
D = 2×120 = 240 mm
q₁ = 0.6/29.9 = 0.0201 GPa⁻¹
```

2️⃣ **温度修正**：
```
R_T = e^(4000×(1/293-1/293)) = 1.0 (标准温度)
```

3️⃣ **干燥收缩计算**：
```
ε₀ = 360×10⁻⁶
k_s-εa = 0.95 (石灰岩)
ε_sh∞ = 360×10⁻⁶×0.95×(40/40)^(-0.8) = 342×10⁻⁶
k_h = 1-0.65³ = 0.726
```

4️⃣ **时间常数**：
```
τ₀ = 0.016×(40/40)^(-0.7) = 0.016天
k_s-τa = 1.80 (石灰岩)
k_s = 1.25 (方形截面)
τ_sh = 0.016×1.80×(1.25×240)² = 25.9天
```

5️⃣ **365天收缩应变**：
```
H(365,7) = 1-(1-0.65)×tanh(√((365-7)/25.9)) = 0.88
ε_sh(365,7) = -342×10⁻⁶×0.726×0.88 = -218×10⁻⁶
```

6️⃣ **自生收缩**：
```
ε_au∞ = 210×10⁻⁶×(40/40)^(-0.5) = 210×10⁻⁶
τ_au = 1.0×(40/40)^(-0.3) = 1.0天
ε_au(365) = -210×10⁻⁶×[1-e^(-(365/1)^0.5)] = -210×10⁻⁶
```

7️⃣ **总收缩**：
```
ε_total = ε_sh + ε_au = -218×10⁻⁶ + (-210×10⁻⁶) = -428×10⁻⁶
```

---

## 🔬 模型特点与优势

### ✅ **实用优势**
- 🎯 **参数简化**: 减少了复杂的材料参数
- ⚡ **计算高效**: 适合工程快速计算
- 🏗️ **工程导向**: 专门针对收缩问题优化
- 📊 **精度适中**: 满足工程精度要求
- 🔄 **易于实施**: 参数容易获取和确定

### 🎨 **应用场景**
- 🏢 **预制构件**: 预制梁、板、柱的收缩控制
- 🌉 **桥梁工程**: 预应力损失计算
- 🏭 **工业建筑**: 大跨度结构收缩预测
- 🏗️ **住宅建设**: 现浇结构收缩控制
- 📊 **质量控制**: 施工过程收缩监控

### 🎯 **适用条件**
- 🏗️ **普通混凝土**: 强度15-80 MPa
- 🌡️ **常规环境**: 温度-20~60℃
- 💧 **标准湿度**: 相对湿度40-100%
- ⏰ **长期预测**: 适用于1-10000天
- 🔄 **标准养护**: 常规养护条件

### ⚠️ **使用限制**
- 🔬 **特殊混凝土**: 高性能混凝土需要修正
- 🌡️ **极端环境**: 极端温湿度条件
- 🏭 **特殊掺料**: 大量掺合料需要调整
- ⚡ **早期行为**: 极早期收缩预测精度有限

---

## 🚀 计算性能与实现

### 💻 **JavaScript 实现**
```javascript
// 高效的B4S收缩计算
function calculateB4S(params, t) {
    // 基础参数计算
    const E28 = 4734 * Math.sqrt(params.fc) / 1000;
    const D = 2 * params.vs;

    // 温度修正
    const betaTh = Math.exp(4000 * (1/293 - 1/(params.T + 273)));

    // 干燥收缩计算
    const epsilonSh = calculateDryingShrinkage(params, t);

    // 自生收缩计算
    const epsilonAu = calculateAutogenousShrinkage(params, t);

    // 柔度函数计算
    const J = calculateCompliance(params, t);

    return { J, epsilonSh, epsilonAu };
}
```

### 🦀 **Rust 高性能实现**
```rust
// 零开销抽象的高性能计算
pub fn calculate_b4s_optimized(params: &B4sParams, t: f64) -> B4sResult {
    // 编译时常量优化
    let e28 = 4734.0 * params.fc.sqrt() / 1000.0;
    let d = 2.0 * params.vs;

    // SIMD向量化计算
    let beta_th = fast_exp(4000.0 * (1.0/293.0 - 1.0/(params.t_temp + 273.0)));

    // 并行计算各组件
    let epsilon_sh = calculate_drying_shrinkage_simd(params, t);
    let epsilon_au = calculate_autogenous_shrinkage_simd(params, t);
    let j = calculate_compliance_simd(params, t);

    B4sResult { t, j, epsilon_sh, epsilon_au }
}
```

---

## 📚 工程应用指南

### 🎯 **设计阶段应用**
1. **收缩预估**: 结构设计时的收缩变形预测
2. **配筋设计**: 收缩裂缝控制配筋
3. **伸缩缝设置**: 基于收缩量确定伸缩缝间距
4. **预应力设计**: 预应力损失计算

### 🏗️ **施工阶段控制**
1. **养护制度**: 基于收缩预测优化养护
2. **拆模时间**: 考虑收缩影响的拆模时机
3. **施工缝处理**: 收缩缝的设置和处理
4. **质量监控**: 收缩变形的实时监测

### 📊 **运营阶段管理**
1. **变形监测**: 长期收缩变形跟踪
2. **维护计划**: 基于收缩预测的维护策略
3. **性能评估**: 结构长期性能评估
4. **寿命预测**: 基于收缩的使用寿命预测

---

## 🛠️ 参数选择建议

### 📋 **材料参数确定**
1. **强度测试**: 标准试件28天强度
2. **配合比分析**: 水胶比、骨料类型确定
3. **水泥资料**: 水泥类型和性能指标
4. **骨料检测**: 骨料类型和物理性能

### 🌡️ **环境参数获取**
1. **气象资料**: 当地多年平均温湿度
2. **微环境**: 结构所处的具体环境
3. **季节变化**: 考虑季节性环境变化
4. **室内外差异**: 区分室内外环境条件

### ⏰ **时间参数设定**
1. **施工计划**: 实际的施工和加载时间
2. **养护制度**: 养护结束和暴露开始时间
3. **使用阶段**: 结构的设计使用年限
4. **关键时点**: 重要的时间节点确定

---

<div align="center">

**🌟 B4S - 实用高效的混凝土收缩预测模型 🌟**

*简化计算，精确预测，工程实用*

